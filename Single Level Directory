#include <stdio.h>
#include <string.h>

struct {
    char dname[10], fname[10][10];
    int fcnt;
} dir;

int main() {
    dir.fcnt = 0;
    strcpy(dir.dname, "root");
    int ch;
    char f[10];
    do {
        printf("\n1. Create File\n2. Delete File\n3. Search File\n4. Display Files\n5. Exit\nChoice: ");
        scanf("%d", &ch);
        switch(ch) {
            case 1:
                printf("Enter file name: ");
                scanf("%s", dir.fname[dir.fcnt]);
                dir.fcnt++;
                break;
            case 2:
                printf("Enter file name to delete: ");
                scanf("%s", f);
                for (int i = 0; i < dir.fcnt; i++) {
                    if (strcmp(f, dir.fname[i]) == 0) {
                        strcpy(dir.fname[i], dir.fname[dir.fcnt-1]);
                        dir.fcnt--;
                        printf("File deleted\n");
                        break;
                    }
                }
                break;
            case 3:
                printf("Enter file name to search: ");
                scanf("%s", f);
                int found = 0;
                for (int i = 0; i < dir.fcnt; i++) {
                    if (strcmp(f, dir.fname[i]) == 0) {
                        printf("File found\n");
                        found = 1;
                        break;
                    }
                }
                if (!found) printf("File not found\n");
                break;
            case 4:
                printf("Directory %s contains:\n", dir.dname);
                for (int i = 0; i < dir.fcnt; i++)
                    printf("%s\n", dir.fname[i]);
                break;
        }
    } while (ch < 5);
    return 0;
}
